import{v as _}from"./VueMxGraphLoader-BvcjzJG_.js";import{d as C,r as h,y as k,D as w,l as y,o as M,e as X,z as p,v as n,b as s,F as R,h as l,_ as z}from"./index-CCRf4Tvv.js";import"./_commonjsHelpers-Cpj98o6Y.js";const B={class:"border-b p-3 gap-3 flex items-center"},E=C({__name:"mxGraphXML",setup(G){const r=h(null),{mxClient:u,mxUtils:a,mxGraph:f,mxRubberband:x,mxCodec:c}=_,m=k("containerRef"),v=o=>{if(!u.isBrowserSupported()){a.error("浏览器不支持",200,!1);return}const e=new f(o);new x(e),e.setEnabled(!0),e.setTooltips(!0),e.centerZoom=!0,e.resizeContainer=!1,r.value=e},b=async()=>{try{const e=await(await fetch("../../public/mxgraph-base/xml/umlLifeline.xml")).text(),t=a.parseXml(e);new c(t).decode(t.documentElement,r.value.getModel())}catch(o){console.error("Error:",o)}},i=o=>{o==="large"?r.value.zoomIn():r.value.zoomOut()},g=()=>{const e=new c().encode(r.value.getModel()),t=a.getXml(e);console.log(t)};return w(()=>{if(m.value==null)return;const o=m.value;v(o)}),(o,e)=>{const t=y("t-link");return M(),X(R,null,[p("div",B,[n(t,{theme:"primary",hover:"color",onClick:b},{default:s(()=>e[2]||(e[2]=[l("添加xml")])),_:1}),n(t,{theme:"primary",hover:"color",onClick:g},{default:s(()=>e[3]||(e[3]=[l("查看xml")])),_:1}),n(t,{theme:"primary",hover:"color",onClick:e[0]||(e[0]=d=>i("large"))},{default:s(()=>e[4]||(e[4]=[l("放大")])),_:1}),n(t,{theme:"primary",hover:"color",onClick:e[1]||(e[1]=d=>i("Small"))},{default:s(()=>e[5]||(e[5]=[l("缩小")])),_:1})]),p("div",{ref_key:"containerRef",ref:m,class:"graph_container"},null,512)],64)}}}),V=z(E,[["__scopeId","data-v-e34b9f49"]]);export{V as default};
